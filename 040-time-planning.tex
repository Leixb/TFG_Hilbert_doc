%! TEX root = **/010-main.tex
% vim: spell spelllang=en:

\section{Time planning}

The work-to-begin date is on February 9th and the delivery date on June which
gives around 18 weeks of time. I plan to work on the project approximately 35
hours a week, this gives around 630 hours in total working on the project.

\subsection{Description of the tasks}

\subsubsection{Task definition}

The definitions of the tasks that will be done throughout the project are
divided into 4 categories: planning, research, implementation and experimentation.

\paragraph{Project planning}

\begin{itemize}
    \item \textbf{Contextualization and project scope} Describe the project
        scope and its context. Giving an overview of the objective, other past
        studies on the topic and how this project is relevant.
    \item \textbf{Time planning} Organize the work to be done in granular tasks
        to estimate the time needed for each of them. With the time estimation
        create a realistic planning for the tasks completions so that the
        project can be finished in the appropriate time frame.
    \item \textbf{Budget and sustainability} Analyze the economic and
        environmental sustainability of the project.
    \item \textbf{Meetings} Each week a meeting with the tutor will be scheduled
        to ensure that the thesis is proceeding correctly and within the
        expected deadlines.
    \item \textbf{Integration into the final document} All these project
        planning tasks must be integrated into the final thesis memoir.
\end{itemize}

\paragraph{Research}

Given the nature of this thesis it is fundamental to have a solid understanding
of modern numerical computation techniques applied to solving Ordinary
Differential Equations and finding limit cycles. It is also primordial to know
how these techniques can be applied to CUDA and how to benchmark the programs to
detect bottlenecks and find whether the processing power of the GPU is
being used in its full potential.

\begin{itemize}
    \item \textbf{Research ODE solvers} There are lots of algorithms to solve
        ODEs which will have to be tried to find the ones that give the best
        results in our case.
    \item \textbf{Research how to find limit cycles} Find the best approach to
        detect limit cycles
    \item \textbf{Research CUDA} This task includes reading the official
        documentation as well as other sources on numerical methods applied to
        CUDA.
\end{itemize}

\paragraph{Practical Implementation}

The different algorithms researched must be implemented in order to experiment
with them and find the best ones to solve the problem.

\begin{itemize}
    \item \textbf{Program different methods to find limit cycles} As stated
        before various different methods will have to be implemented. This
        implementation can be initially without using CUDA (fully sequential).
    \item \textbf{Adapt de code to be run with CUDA} Once the methods to find
        limit cycles are properly implemented they must be adapted in order to
        be run with CUDA.
    \item \textbf{Test the program} In order to ensure that the code implemented
        is correct and the errors introduced in the computation fall within a
        reasonable distance of the real theoretical value some tests must be
        implemented. This includes also the implementation of small programs to
        visualize the results and interpret them.
\end{itemize}

\paragraph{Experimentation, analysis and conclusions}

Once there is a working prototype of the code, the experimentation can begin.
There will be two major parts of the experimentation, the first one when the
various methods are tested with a relatively small number of cases to find the
best one (taking into account both the speed and accuracy of the calculations)
and the final experiment when the best method is run with a much bigger search
space and from which the results can be analyzed.

\begin{itemize}
    \item \textbf{Comparison experiment}
        \begin{itemize}
            \item \textbf{Select search space} Decide how many
                parameters will be used on the experiment. It should be a big
                enough search space so as to have variety on the systems but not
                big enough that it takes too much time to benchmark and slows
                down the development.
            \item \textbf{Select benchmarks} The benchmarks must be run in
                similar conditions, and we must decide what metrics will be
                considered (execution time, FLOPS\footnote{Floating Point Operations
                Per Second}, accuracy, memory usage, \dots).
            \item \textbf{Further optimize the methods} When running the
                benchmarks we may find some possible improvements on the
                original implementations which can then be improved and tested
                again.
            \item \textbf{Analyze results and decide the best method} With the
                results of the experiments we can decide on which method is the
                best and should therefore be used in the final experiment.
        \end{itemize}
    \item \textbf{Final experiment}
        \begin{itemize}
            \item \textbf{Select search space} Given the results of the previous
                experiments, estimate the runtime as a function of the search
                space and select a search space as big as possible given the
                available computing time.
            \item \textbf{Analyze results} Once the final experiment finishes
                the results can be analyzed in search of systems with
                interesting number of limit cycles.
        \end{itemize}
    \item \textbf{Conclusions} Analyze the results of both experiments and
        provide a conclusion.
\end{itemize}

\subsubsection{Estimation of the number of hours per task}

It is quite difficult to estimate the time needed for each of the proposed tasks
since there is no clear reference of how long they can potentially take. To
account for possible delays I will take an upper bound on the hours needed for
each task.

The \textbf{project planning} should be fairly quick, so I estimate around 30
hours of work for the first tasks. There will be 18 meetings of 1 hour and the
integration into the final document should take around 12 hours taking into
account all changes and corrections that may arise.

As explained in \cref{ssub:inexp} a fair amount of time will be devoted to
\textbf{research}. For each of the 3 main topics I will research around 50 hours
to ensure I can get a deep understanding of the topic.

The \textbf{implementation} is the part that should take most time given that
there are multiple different methods to try and test. The implementation of the
methods should take around a month ($\sim100$ hours) and the adaptation to CUDA 2
weeks ($\sim 50$ hours). While doing the different methods, testing should be performed
this should add up to around 50 hours of testing.

Regarding the \textbf{comparison experimentation} the optimization of methods
should take between 50 and 100 hours given that the initial implementation may
require a lot of tweaking and fine-tuning to adapt to the hardware. The analysis
of results should be fairly quick if the code produces proper metrics. In the
\textbf{final experimentation} most of the time will be spent on the computing
and the work should be around 20 hours of monitoring the execution and analyzing
the results.

\Cref{tab:summary_tasks} shows the summary of the tasks with their time estimate
and dependencies. The Gantt chart is shown in~\cref{fig:gantt}. It must be noted
that this time estimates are subject to change.

\subsubsection{Summary of the tasks}

\begin{table}[H]
    \centering
    \caption{Summary of tasks}%
    \label{tab:summary_tasks}
    \begin{tabular}{llrc}
        \toprule
        \thead{ID} & \thead[l]{Task} & \thead{Time (h)} & \thead{Depend.} \\
        \midrule
    \texttt{P} & \textbf{Project planning} & \textbf{60} & \\
        \texttt{P0} & - Contextualization and project scope & 10 & \\
        \texttt{P1} & - Time planning & 10 & \\
        \texttt{P2} & - Budget and sustainability & 10 & \\
        \texttt{P3} & - Meetings & 18 & \\
        \texttt{P4} & - Integration into final document & 12 & \\

        \addlinespace[0.5em]
    \texttt{R} & \textbf{Research} & \textbf{150} & \\
        \texttt{R0} & - ODE solvers & 50 & \\
        \texttt{R1} & - Limit cycles & 50 & \\
        \texttt{R2} & - CUDA & 50 & \\

        \addlinespace[0.5em]
    \texttt{I} & \textbf{Implementation} & \textbf{200} & \\
        \texttt{I0} & - Different methods to find limit cycles & 100 & \texttt{R0,R1} \\
        \texttt{I1} & - Adapt to CUDA & 50 & \texttt{I0,R2} \\
        \texttt{I2} & - Tests & 50 & \\

        \addlinespace[0.5em]
    \texttt{EC} & \textbf{Experimentation (comparison)} & \textbf{130} & \texttt{I} \\
        \texttt{EC0} & Select search space & 5 & \\
        \texttt{EC1} & Select benchmarks & 5 & \\
        \texttt{EC2} & Further optimize the methods & 100 & \\
        \texttt{EC3} & Analyse the results and decide the best method & 20 & \\

    \addlinespace[0.5em]
    \texttt{EF} & \textbf{Experimentation (final)} & \textbf{25} & \texttt{EC} \\
        \texttt{EF0} & Select search space & 5 & \\
        \texttt{EF1} & Analyse the results & 20 & \\

    \addlinespace[0.5em]
        \texttt{C} & \textbf{Conclusions} & \textbf{10} & \texttt{EC,EF} \\
        \texttt{D} & \textbf{Documentation} & \textbf{60} & \\
        \texttt{O} & \textbf{Oral exposition} & \textbf{10} & \\
        \bottomrule
    \end{tabular}
\end{table}
% table

\pagebreak
\subsubsection{Resources}

\paragraph{Human resources}

The main human resource of the thesis is the researcher.  There is also the
director Grigori Astrakharchik which mentors the researcher and the GEP Tutor
Eguiguren Huerta Marcos in charge of correcting the project management part.

\paragraph{Material resources}

The main resources needed for this project are previous papers and books on the
topics of ODEs, limit cycles and CUDA. For the implementation an execution of
the code there following resources will be used:

\begin{itemize}
    \item \textbf{VCS}: \texttt{git} will be used as a version control
        system~(VCS) and the code will be hosted on \emph{GitHub} for easy
        collaboration with the director.
    \item \textbf{\LaTeX}: To format the document \LaTeX will be used. The
        document will be hosted on \emph{Overleaf} to allow easier collaboration
        and due to the fact that it provides \emph{github} integration.
    \item \textbf{Atenea}: To communicate with the GEP tutor.
    \item \textbf{Computers}: My own personal computer with an \emph{RTX2060} will be
        used to develop the code and test it. The final versions will run
        on a server from the department of physics at UPC with a \emph{Nvidia
        Titan V} and \emph{Nvidia Titan Xp} GPUs.
    \item \textbf{Julia}: The Julia programming language will be used to write
        the code and visualize the results.
\end{itemize}

\input{041-gantt}

\subsection{Risk Management}

As explained in~\cref{ssub:intro_risks} there are several potential risks that
may occur during the development of the project. In this section we plan how
this risks will be mitigated and the steps that will be taken if they happen.

    \subsubsection{Project deadline}
    There is the possibility that the initial estimation made of the time it
    takes to complete each task was wrong due to unexpected difficulties. These
    delays may add up over time making it impossible to finish the project on
    time.

    \textbf{Plan:} Detect any delays from the initial time planning immediately
    and remedy them by reevaluating the time planning and allocating more ours
    to a task. It's also crucial that there is enough time to accommodate the
    possible delays that may occur when planning the time for the tasks.

    \subsubsection{Computational power}
    \textbf{Plan:} The program will be run in a server of the department of
    physics of UPC.  The server has 2 graphics cards that add up to 27 TFLOPS.
    It is important that the final version of the program is finished with
    enough time to be run in the server so that any potential problems with the
    server can be dealt with.

    \textbf{Alternative:} Although it should not be a problem, in the event of
    not being able to use the computing power of the server, the code can be run
    locally on my own GPU (7 TFLOPS), it will take more time to compute but its
    feasible. There is also the possibility of investing on a GPU to do the
    calculations.

    \subsubsection{Inexperience on the field}%
    \label{ssub:inexp}
    \textbf{Plan:} Since I have limited experience with both CUDA and numerical
    computation of ODEs there is a significant amount of hours dedicated to
    studying the concepts and researching numerical methods. Devoting more hours
    on researching this topics will be potentially more productive than rushing
    into writing code without proper knowledge and will avoid mistakes in the
    implementation.
